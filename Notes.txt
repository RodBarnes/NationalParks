Status
------
Working to split out ListVM GetItems().  The base class should not know about details of a subclass.  But if I move GetItems to the ParkListVM subclass, it cannot be seen by ListView.
	- Fundamental issues:
		- Desire to use a single view referenced in each page and not duplicate that XAML code.  This requires that the single view be able to do GetItems() for the Collection but it cannot know what type is being displayed in the list.
		- Desire to use a single base VM referenced by each page VM and not duplicate C# code.  But the page VM is the only one that knows the actual result/model class.  The base VM 
	- Try composition where ListVM is some class to which each current subclass (e.g, ParkListVM) has a reference.
	+ This would provide the same code-reuse capability but let the page VM do all the work instead of handing off to a base VM.
	+ But ListView would still not work because it 


Working to figure out cause of "Specified cast is no valid" error.
	- It seems to happen only while deserializing and only after a number of API calls have been made.
	- I can run DataTester through each of the 12 (except Events which is hobbled at 10/request) x6 without ever encountering the error.
	- Try running pages with Filter stuff commented out.
	- What is difference?  Why can I use DataTester without the error but encounter it in the list pages?
		+ Does having ListVM as a base class present some common thing that spills over?  It shouldn't, right?  A base class is not shared; it is just a common structure that is shared but the instances are different.



Error in Getting Closest for Tour, maybe half-way through or so?  ListVM.FillLocationFromPark and cannot clear it or it keeps popping up. After killing the app then getting GetItems Arg_InvalidCastException at start up. Hmmm...
	- Started fresh then Used [Closest] on Parks, Campgrounds, Tours and they all were succesful. Then ran on People and it failed with the error about 1/3 of the way. Close the app, then restarted it, and got the error ""Specified case is not valid" almost immediately after selecting Parks.
	- So not sure what is going on. Seems like a memory issue; i.e., running out of space?
	- Possible a consideration for testing:  Tour, Place, People, and NewsRelease all rely upon the parkcode to get the location. Maybe try avoiding those and see if the same issue occurs?
	- Using DataTester, I ran a test going through all 10 datatypes and it read all successfully including FillImage().  It was not getting the Location and it was clearing the Items after each one.
	- Factory reset the emulator and deployed.  Still got the invalid cast error and continue to get it.
	- Closed VS and the emulator then ran the kill script, then opened VS and deployed. Took a really long time to deploy so I killed the emulator. Then it fired up immediately and began deploying; still took a while. Still got the invalid cast error and continue to get it.
	- Uninstalled NPS Info, closed the emulator. Closed VS. Ran the kill script. Opened VS. Cleaned the solution (failed three times, finally succeeded). Build the solution. Did factory reset on both emulators.  Deployed then got interrupted. Came back about 20 minutes later and ran it. Still got the invalid cast error and continue to get it.
	- Closed VS then opened it again. Selected API 33 emulator.  Cleaned, rebuilt, deployed (it had been previously factory reset).  No error appeared -- which was expected given I'd not deployed to this in a long time and it had been factory reset. Stopped the debug, closed the API 33 emulator.
	- Selected API 31 emulator. Cleaned, rebuilt, deployed (it had been previously factory reset).  No error this time.
	- So what is the difference? What is causing the error?  Why does it continue to appear even after restarting, reset, etc? What is ListVM doing that DataTesterVM is not doing?
	- Stopped the debug session then started a new one.  Clicked on each of the 10 sections (from the flyout) and all appeared fine.  (I did not get more data on each, just the initial).  Did [Closest] on Parks, Campgrounds, Tours, Webcams, Audios, and no error appeared. Did Videos and the error appeared "Specified case is not valid."
	- After a bit it seemed to settle.  I could go to any of them and it would just display the list now with no error.
	- Went to People and got "FillLocationFromPark:Object reference not set to an instance of an object" three times.
	"F"
	- Updated DataTesterVM to get location for Places.  Ran Places and no error.  Ran the other nine and still no error.
	- Updated DataTesterVM to get location for Tour and no error.  Ran Parks and got "Specified case is not valid." error almost immediately.  Cleared, ran Campgrounds, and same thing; error almost immediately.  Maybe it is still gettiong location data for Tours since it is so slow?
		+ Can I run a newtork monitor (wireshark?) and watch what client is receiving data?
		+ Decided to wait and let things settle then see if I can do Places again without error.
			+ But after about 10 minutes, running the app, selecting Parks in DataTester still produced error.
			+ Closed VS, closed Emulator, ran kill script. Went and had lunch.  Came back and DataTester Parks is now fine.
		+ Maybe get Data as a ICollection<object>  Then test it against the various models?
		+ Try putting an exception catch in lower-level places (e.g., DataServices) just to capture it and track from where the error is coming.


Need to prepare for release
	- Help page?  Would this be the start page?
	- Validate all page displays

Possible text for help page:
	- This app relies upon data supplied by the National Park Service API which is publically available.  It provides information on Parks, Campgrounds, and other facilities, as well as news releases, articles, and multimedia produced by the National Park Service about the events and activities available at various national parks.


Issues & Ideas
--------------
Probably should only get the location when it is needed; i.e., using [Closest] or [Location].

For now, commenting out access to NewsRelease because it does not the images in Release version.
	- All ListPages display using ListView and ListVM.
	- No difference in code values between Release and Debug. :-(
	- Article (which works) and NewsRelease use essentially identical code to populate MainImage.
	- Confirmed (by replacing Title with MainImage.Id) that all items are getting a MainImage.
	- So why don't they display under release?

Without <RefreshView> the <CollectionView.EmptyView> does not display

Can I manually remove maccatalyst from the csproj file?

Entry.ClearButtonVisibility is not working.  Opened issue https://github.com/dotnet/maui/issues/13659

Maybe add an additional property (e.g., TileDescription?) to BaseModel specifically for display in the list tile.  For Park, this would be populated by Designation so that could be used in the tile.  For the others, it might only be a duplicate of Description.

Is it possible to consolidate all the *FilterPages into a single FilterPage?  The only hang-up would seem to be the need to specify which filters to display based upon the list.  But if this just ends up being State, then they could be.  Or, maybe state is always enabled as part of ListVM?  Then the only special one would be those that enable others; e.g., ParkList.

Determine how to get a snapshot of the webcam and display that in the webcam list as the image.  Would this help: https://stackoverflow.com/questions/15702031/get-thumbnail-image-of-video-file-in-c-sharp

I could add a list of "Related Campgrounds" to Park -- but this would mean getting them as I do with Alerts.  Maybe... What about the ability to go back and forth between things -- Park to Campground to Place to Park.  What does this do to the routing?

Splitting the retrieval of Tour and Place location to another time instead of getting it regardless while populating the list might be helpful.  Location is only needed when either:
	- Tapping [Location] from the detail page -- so it could just be retrieved there if it is missing.
	- Tapping [Closest] from the list page -- so it could just be retrieved there if it is missing.  But this also means getting it not just for those yet to be retrieved but those already in the list.  I tried implenting this and it makes GetClosest for Tours very, very slow.  Whereas, the orignal way (that gets the location when loading the items) takes a little hit per item but really not that much.  Overall, the original seems faster.

Settings?
	- User determined states by which to always filter?
	- Which list to display as the default page?  Probably would use the CurrentItem property of <Shell>? And update the name of the new item based to that name based upon user selection?

EllipsisLabel control to display an elipsis at the end of too-long-to-display text?  I think this page might have some related guidance: https://swharden.com/blog/2021-10-16-maui-graphics-measurestring/

Need to find phone in midst of text and turn into link to call.  This may be as simple as turning it into HTML text and selecting that as the text type in the label.

Does it make sense to have the Webcams as a separate aspect/list?  Or should the webcams be just part of the ParkDetail?  Or maybe both?

Add a tap gesture on the AdvApp section of the About page to go to the AdvApp site?

Allow setting radious in miles and presenting list of Parks within that radius.

Maybe need a string handler that recognizes URLs in text (e.g., weather descriptions) and turns those into clickable links.

Still unsure what to do with the ExceptionHours and whether to display the StandardHours since they are often (alway?) included as text in the description.

And maybe Activity should be NpsActivity to eliminate the ambiguity with System...Activity?


Failed Ideas
------------
Can I change Related Parks so that it shows an element like Campground when there is a single one and a CollapsibleView when there is more than one.  In fact, are there any that have more than one?
	- This isn't worth it.  There are enough Places and ThingsToDo that have multiple parks that leaving it multiple makes sense for consistency.

Can the x:DataType of the DetailPages be set to just DetailVM?
	- No, because DetailVM does not have a reference to the model that is required by several of the elements.

Can I do the same with the Detail Buttons as I did with the Avatar image; i.e., move them into DetailButtonVM?  But that would also include moving the OpenMap and Images RelayCommands into the DetailButtonVM.
	- No, I attempted this but the buttons didn't recognize the tap.
